<!DOCTYPE html>
<html>
  <head>
    <title>Bootstrap 5 Example</title>
    <meta charset="utf-8">
    <meta name="viewport"  content="width=device-width, initial-scale=1">
    <!-- bootstrap5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jquery  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<script>
/*
1. 在每一筆上面 顯示 刪除的按鈕
2. 按下 刪除  31_內容_移除_empty_remove.html
3. 修改 
3-1.   點選  每一筆 把資料顯示回 input  (記得是按哪一個)
3-2.   多一個修改的按鈕
3-3.   (記得是按哪一個)  放回原本的地方 
        25_內容_value_attr_值_屬性.html
        39_遍歷_first_last_eq_filter.html 

*/
var 修改的資料;    // 設定變數 = 空的  

$(document).ready(function(){
  let msg歷史資料="";
  $("#button1").click(function(){
    
    // 抓到資料
    // 25_內容_value_attr_值_屬性.html
    let email=$("#email").val();
    let info=$("#info").val();
    // 添加資料
    // 27_內容_append.html
    let html1=`<tr> 
                  <td>`+email+`</td>
                  <td>`+info+`</td> 
                  <td><button type="button" class="btn btn-danger del" > 刪除</button>  </td> 
               </tr> `;
    //alert(html1);
    // 將內容加在h1 的裡面
    $("#tbody1").append(html1);    
    fun_點選表格();
    fun_處理刪除的按鈕();
  });
  
  $("#button2").click(function(){
    // 清空上面  
    // 25_內容_value_attr_值_屬性.html 
    $("#email").val("");
    $("#info").val("");
  });
  

  fun_處理刪除的按鈕();
  // 點選table 的內容  
  fun_點選表格();

  // 修改  
  $("#button3").click(function(){    
    let email=$("#email").val();
    let info=$("#info").val();
    console.log("箱子:"+email);
    let t1=$(修改的資料);               //<-- 
        t1=$(修改的資料).find("td");    
        t1=$(修改的資料).find("td").eq(0);

    let aa=$(修改的資料).find("td").eq(0);
    $(修改的資料).find("td").eq(0).text(email);      
    $(修改的資料).find("td").eq(1).text(info);  
    console.log("aa;"+aa);
  });
});


function  fun_點選表格(){        // 函數
  var t1=10;  
  $("tr").click(function(){    
     修改的資料=this;            //  給資料
     console.log(this);
     //$(".current").find("span").css({"color": "red", "border": "2px solid red"});         
     let Email1=$(this).find("td");     
     console.log(Email1);
     Email1=$(this).find("td").eq(0).text();      
     console.log(Email1);
     let info1=$(this).find("td").eq(1).text();      
     console.log(info1);
    //  放到input
     $("#email").val(Email1);
     $("#info").val(info1);     
  });   
}
//console.log(t1);   // 沒有

function fun_處理刪除的按鈕(){  
  //console.log(t1);   // 沒有
  // 處理刪除    
  $(".del").click(function(){ 
    // 找 parant tr
    //  $("#div1").empty();
    $(this).parents("tr").remove();
  });
}
</script>
</head>
<body>
  <div class="container">

  <div class="mt-4 p-5 bg-secondary text-white rounded">
      <h1>XXX ERP 系統</h1> 
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat..</p> 
  </div>

  <div class="mb-3">
    <label for="email" class="form-label">Email address</label>
    <input type="email" class="form-control" id="email" placeholder="name@example.com">
  </div>
  <div class="mb-3">
    <label for="info" class="form-label">Example textarea</label>
    <textarea class="form-control" id="info" rows="3"></textarea>
  </div> 
  <button type="button" class="btn btn-primary" id="button1"> 添加資料</button>
  <button type="button" class="btn btn-secondary" id="button2"> 清空上面</button>
  <button type="button" class="btn btn-secondary" id="button3"> 修改</button>
 
  <p>
  <hr>
  <p>

  <table class="table  table-striped  table-hover">
    <thead  class="table-dark">
      <tr>
        <th scope="col">Email</th>
        <th scope="col">資訊</th> 
        <th scope="col">刪除</th> 
      </tr>
    </thead>
    <tbody id="tbody1">
      <tr> 
        <td>Mark</td>
        <td>Otto</td> 
        <td>
          <button type="button" class="btn btn-danger del" > 刪除</button>
        </td> 
      </tr>
      <tr> 
        <td>Jacob</td>
        <td>Thornton</td> 
        <td>          
          <button type="button" class="btn btn-danger del" > 刪除</button>          
        </td> 
      </tr> 
      
    </tbody>
  </table>
</div>

</body>
</html>
